{"version":3,"sources":["../../server/routes/api.js"],"names":["router","Router","get","logout","post","borrow","put","return","inventory","add","update","retrieveAll","retrieve","signup","login"],"mappings":";;;;;;AAAA;;;;AAEA;;;;AACA;;;;AACA;;;;AAEA,IAAMA,SAAS,kBAAQC,MAAR,EAAf;;AAEAD,OAAOE,GAAP,CAAW,eAAX,yBAAwC,0BAAgBC,MAAxD;;AAEA;AACAH,OAAOI,IAAP,CAAY,sBAAZ,yBAAgD,0BAAgBC,MAAhE;;AAEA;AACAL,OAAOM,GAAP,CAAW,sBAAX,yBAA+C,0BAAgBC,MAA/D;;AAEA;AACAP,OAAOE,GAAP,CAAW,sBAAX,yBAA+C,0BAAgBM,SAA/D;;AAEA;AACAR,OAAOI,IAAP,CAAY,QAAZ,yBAAkC,0BAAgBK,GAAlD;;AAEA;AACAT,OAAOM,GAAP,CAAW,gBAAX,yBAAyC,0BAAgBI,MAAzD;;AAEA;AACAV,OAAOE,GAAP,CAAW,QAAX,yBAAiC,0BAAgBS,WAAjD;;AAEA;AACAX,OAAOE,GAAP,CAAW,gBAAX,yBAAyC,0BAAgBU,QAAzD;;AAEA;AACAZ,OAAOI,IAAP,CAAY,eAAZ,0BAA0C,0BAAgBS,MAA1D;;AAEA;AACAb,OAAOI,IAAP,CAAY,eAAZ,0BAA0C,0BAAgBU,KAA1D;;kBAEed,M","file":"api.js","sourcesContent":["import express from 'express';\r\n\r\nimport BooksController from '../controllers/booksController';\r\nimport UsersController from '../controllers/usersController';\r\nimport { isLoggedIn, notLoggedIn } from '../helpers/user_auth';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.get('/users/logout', isLoggedIn, UsersController.logout);\r\n\r\n/* Borrow book */\r\nrouter.post('/users/:userId/books', isLoggedIn, BooksController.borrow);\r\n\r\n/* PUT allow user to return book */\r\nrouter.put('/users/:userId/books', isLoggedIn, BooksController.return);\r\n\r\n/* GET user borrowed book */\r\nrouter.get('/users/:userId/books', isLoggedIn, BooksController.inventory);\r\n\r\n/* POST add book */\r\nrouter.post('/books', isLoggedIn, BooksController.add);\r\n\r\n/* PUT modify book */\r\nrouter.put('/books/:bookId', isLoggedIn, BooksController.update);\r\n\r\n/* GET retrieve all books */\r\nrouter.get('/books', isLoggedIn, BooksController.retrieveAll);\r\n\r\n/* GET retrieve single book */\r\nrouter.get('/books/:bookId', isLoggedIn, BooksController.retrieve);\r\n\r\n/* POST user signup */\r\nrouter.post('/users/signup', notLoggedIn, UsersController.signup);\r\n\r\n/* POST user signin */\r\nrouter.post('/users/signin', notLoggedIn, UsersController.login);\r\n\r\nexport default router;\r\n"]}